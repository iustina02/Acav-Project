<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
         <form>
        Name: <input type="text" id="name"> <br>
        
        Email: <input type="email" id="email" required> <br>
        Country: <input type="text" id="country"> <br>
        Age: <input type="date" id="age"> <br>
        City: <input type="text" id="city"> <br>
        Job: <input type="text" id="job"> <br>
        Picture: <input type="text" id="pic"> <br>
        Music Genres: <input type="text" id="musicgen"> <br>
        <input type="button" value="Send" onclick="sendThePost()"><br></form>
        
    <script>


   

   function sendThePost(){ 
    let name = document.getElementById("name").value;
        let email = document.getElementById("email").value;
        let country = document.getElementById("country").value;
        let age = document.getElementById("age").value;
        let city = document.getElementById("city").value;
        let job = document.getElementById("job").value;
        let pic = document.getElementById("pic").value;
        let musicgen = document.getElementById("musicgen").value;
    var myHeaders = new Headers();
    myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({ "name": name,
    "email": email,
    "country": country,
    "age": age,
    "city": city,
    "job": job,
    "picture": pic,
    "musicGenres": musicgen }); 
var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("https://acav.herokuapp.com/reguser", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
}
    </script>

    <!-- <form type="POST" action="loclhost:4000/reguser">
        Name: <input type="text" id="name"> <br>
        
        Email: <input type="email" id="email" required> <br>
        Country: <input type="text" id="country"> <br>
        Age: <input type="date" id="age"> <br>
        City: <input type="text" id="city"> <br>
        Job: <input type="text" id="job"> <br>
        Picture: <input type="text" id="pic"> <br>
        Music Genres: <input type="text" id="musicgen"> <br>

        <input type="submit" value="Submit">
    </form> -->
    <!-- <script>

function sendJSON(){ 
               
    let name = document.getElementById("name").value;
        let email = document.getElementById("email").value;
        let country = document.getElementById("country").value;
        let age = document.getElementById("age").value;
        let city = document.getElementById("city").value;
        let job = document.getElementById("job").value;
        let pic = document.getElementById("pic").value;
        let musicgen = document.getElementById("musicgen").value;
               
            // Creating a XHR object 
            let xhr = new XMLHttpRequest(); 
            let url = "http://localhost:4000/reguser"; 
        
            // open a connection 
            xhr.open("POST", url, true); 
  
            // Set the request header i.e. which type of content you are sending 
            xhr.setRequestHeader("Content-Type", "application/json"); 
  
            // Create a state change callback 
            // xhr.onreadystatechange = function () { 
            //     if (xhr.readyState === 4 && xhr.status === 200) { 
  
            //         // Print received data from server 
            //         result.innerHTML = this.responseText; 
  
            //     }
            //     else console.log("fasdsadsadsa"); 
            // }; 
  
            // Converting JSON data to string 
            var data = JSON.stringify({ "name": name.value, 
            "email": email.value,
            "country:": country.value,
            "age":age.value,
            "city": city.value,
            "job": job.value,
            "pic": pic.value,
            "musicgen": musicgen.value }); 
  
            // Sending data with the request 
            xhr.send(data); 
        } 



    // function sendJSON(){
    // let url = "https://acav.herokuapp.com/reguser";
    // document.getElementById("reg").addEventListener("click",()=>{
    //     let name = document.getElementById("name").value;
    //     let email = document.getElementById("email").value;
    //     let country = document.getElementById("country").value;
    //     let age = document.getElementById("age").value;
    //     let city = document.getElementById("city").value;
    //     let job = document.getElementById("job").value;
    //     let pic = document.getElementById("pic").value;
    //     let musicgen = document.getElementById("musicgen").value;
        
    //     const payload = {name,email,country,age,city,job,pic,musicgen};

    //     Request("POST",url,payload);
    // });
        
    //  }

    </script> -->
</body>
</html>